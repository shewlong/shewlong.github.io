webpackJsonp([2],{Hl2I:function(t,e){},IcnI:function(t,e,n){"use strict";var o=n("lRwf"),r=n.n(o),i=n("SJI6"),u=n.n(i),a=n("lbHh"),l=n.n(a),c=function(t,e,n){return n?l.a.set(t,e,{expires:n}):l.a.set(t,e)},s=function(t){return l.a.get(t)},m=function(t){return l.a.remove(t)},f=n("vMJZ"),p={state:{token:s("TOKEN_KEY")},mutations:{SET_TOKEN:function(t,e){t.token=e,c("TOKEN_KEY",e,30)},REMOVE_TOKEN:function(t){t.token=null,m("TOKEN_KEY")}},actions:{Authentication:function(t,e){(0,t.commit)("SET_TOKEN",e)},Cancellation:function(t){(0,t.commit)("REMOVE_TOKEN"),r.a.prototype.$message({message:"Token取消绑定",type:"info"})}}},d={state:{avatarUrl:null,name:null,location:null,blog:null,followers:0,following:0},mutations:{SET_AVATAR_URL:function(t,e){t.avatarUrl=e},SET_NAME:function(t,e){t.name=e},SET_LOCATION:function(t,e){t.location=e},SET_BLOG:function(t,e){t.blog=e},SET_FOLLOWERS:function(t,e){t.followers=e},SET_FOLLOWING:function(t,e){t.following=e}},actions:{GetInfo:function(t){var e=t.commit;f.a.getInfo().then(function(t){var n=t.data;e("SET_AVATAR_URL",n.avatar_url),e("SET_NAME",n.name),e("SET_LOCATION",n.location),e("SET_BLOG",n.blog),e("SET_FOLLOWERS",n.followers),e("SET_FOLLOWING",n.following)})}}},h={state:{githubUsername:"",blogTitle:"",blogDescribe:"",htmlTitle:"",fontColor:"",useBackgroundImage:!1,backgroundColorLeft:"",backgroundColorRight:"",audioUrl:"",mini:!1,audioAutoPlay:!1,webSites:[]},mutations:{SET_CONFIGURATION:function(t,e){t.githubUsername=e.githubUsername||"shewlong",t.blogTitle=e.blogTitle||t.githubUsername,t.blogDescribe=e.blogDescribe||"欢迎来到"+t.githubUsername+"的个人博客。",t.htmlTitle=e.htmlTitle||t.githubUsername+"的博客",t.fontColor=e.fontColor||"#ffffff",t.useBackgroundImage=e.useBackgroundImage||!1,t.backgroundColorLeft=e.backgroundColorLeft||"#155799",t.backgroundColorRight=e.backgroundColorRight||"#159957",t.audioUrl=e.audioUrl||"",t.mini=e.mini||!1,t.audioAutoPlay=e.audioAutoPlay||!1,t.webSites=e.webSites||[]}},actions:{LocalReload:function(t,e){(0,t.commit)("SET_CONFIGURATION",e)},Init:function(t){var e=t.commit,n=void 0;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET","../../../static/configuration.json",!1),n.send(),e("SET_CONFIGURATION",JSON.parse(n.responseText))}}},g={token:function(t){return t.token.token},githubUsername:function(t){return t.configuration.githubUsername},blogTitle:function(t){return t.configuration.blogTitle},blogDescribe:function(t){return t.configuration.blogDescribe},htmlTitle:function(t){return t.configuration.htmlTitle},fontColor:function(t){return t.configuration.fontColor},useBackgroundImage:function(t){return t.configuration.useBackgroundImage},backgroundColorLeft:function(t){return t.configuration.backgroundColorLeft},backgroundColorRight:function(t){return t.configuration.backgroundColorRight},audioUrl:function(t){return t.configuration.audioUrl},mini:function(t){return t.configuration.mini},audioAutoPlay:function(t){return t.configuration.audioAutoPlay},webSites:function(t){return t.configuration.webSites},avatarUrl:function(t){return t.user.avatarUrl},name:function(t){return t.user.name},location:function(t){return t.user.location},blog:function(t){return t.user.blog},followersTotal:function(t){return t.user.followers},followingTotal:function(t){return t.user.following}};r.a.use(u.a);var b=new u.a.Store({modules:{token:p,user:d,configuration:h},getters:g});e.a=b},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("lRwf"),r=n.n(o),i=n("Dd8w"),u=n.n(i),a=n("SJI6"),l={name:"App",computed:u()({},Object(a.mapGetters)(["githubUsername","htmlTitle","token"])),created:function(){this.$store.dispatch("Init"),this.token&&this.$store.dispatch("GetInfo")},updated:function(){console.log(this.$route),this.$setTitle(this.$route.meta.title);var t=this.$util.getWindowSize(),e=this.$route.path.split("/");"user"==e[1]&&t.height>1.2*t.width&&this.$router.push("/mobile/user/blog"),"mobile"==e[1]&&t.height<=1.2*t.width&&this.$router.push("/"),console.log(33333333)}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},s=n("VU/8")(l,c,!1,null,null,null).exports,m={cutStr:function(t,e){try{return t.length>e?t.substring(0,e)+"...":t}catch(t){return""}},verifyEmail:function(t){if(null==t||void 0==t)return!1;return/^[0-9A-Za-z_]+@[0-9A-Za-z]+\.[A-Za-z]+/.test(t)},utcToLocal:function(t){var e=function(t){return t>=10?t:"0"+t},n=t.split(/[^0-9]/),o=new Date(n[0],n[1]-1,n[2],n[3],n[4],n[5]),r=new Date(o.getTime()+288e5);return e(r.getFullYear())+"-"+e(r.getMonth()+1)+"-"+e(r.getDate())+" "+e(r.getHours())+":"+e(r.getMinutes())+":"+e(r.getSeconds())},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},randomInt:function(t,e){var n=e-t;if(n<0)return t;var o=Math.random()*n+t;return o=parseInt(o,10)},fullScreen:function(){var t=document.documentElement;window.ActiveXObject?new ActiveXObject("WScript.Shell").SendKeys("{F11}"):t.requestFullScreen?t.requestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()},fullExit:function(){var t=document.documentElement;window.ActiveXObject?new ActiveXObject("WScript.Shell").SendKeys("{F11}"):t.requestFullScreen?document.exitFullscreen():t.msRequestFullscreen?document.msExitFullscreen():t.webkitRequestFullScreen?document.webkitCancelFullScreen():t.mozRequestFullScreen&&document.mozCancelFullScreen()},parseHeaders:function(t){try{for(var e=t.link.split(","),n=0;n<e.length;n++){var o=e[n];if(!(o.indexOf('rel="last"')<0))for(var r=o.split(/[\?&]/),i=0;i<r.length;i++){var u=r[i].split("=");if("page"==u[0])return parseInt(u[1])}}}catch(t){}return 0},copy:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select();var n=void 0;try{n=document.execCommand("copy")}catch(t){}return document.body.removeChild(e),n},formatTime:function(t){var e=parseInt(t),n=parseInt(e/60),o=parseInt(e%60);return(n<10?"0":"")+parseInt(e/60)+":"+(o<10?"0":"")+parseInt(e%60)},getWindowSize:function(){var t={};return t.width=window.innerWeight||document.documentElement.clientWidth||document.body.clientWidth,t.height=window.innerWeight||document.documentElement.clientHeight||document.body.clientHeight,t},addHttp:function(t){return(t.match(/https?:\/\//i)?"":"https://")+t}},f=n("YaEn"),p=n("OS1Z"),d=n.n(p),h=(n("pw1w"),n("Hl2I"),n("IcnI"));r.a.use(d.a),r.a.prototype.$markdown=function(t){return d.a.markdownIt.render(t)},r.a.prototype.$reload=function(t){t.$router.push("/empty"),t.$nextTick(function(){return t.$router.go(-1)})},r.a.prototype.$setTitle=function(t){document.title=t?h.a.state.configuration.htmlTitle+" - "+t:h.a.state.configuration.htmlTitle},r.a.prototype.$share=function(t){t?t=(window.location+"").split("#")[0]+"#"+t:t=window.location;m.copy(t)?r.a.prototype.$confirm("链接已复制,去分享给好友吧!!","分享",{showCancelButton:!1,showClose:!1,type:"success"}):r.a.prototype.$confirm("链接复制失败,可能因为浏览器不兼容","分享",{showCancelButton:!1,showClose:!1,type:"warning"})},f.b.beforeEach(function(t,e,n){h.a.state.token.token?n():"/login"===t.path?n():n("login")}),r.a.prototype.$mobileShare=function(t){t?t=(window.location+"").split("#")[0]+"#"+t:t=window.location;m.copy(t)?r.a.prototype.$dialog.alert({title:"分享",message:"链接已复制,去分享给好友吧!!"}):r.a.prototype.$dialog.alert({title:"分享",message:"链接复制失败,可能因为浏览器不兼容"})},r.a.prototype.$util=m,r.a.config.productionTip=!1,new r.a({el:"#app",router:f.b,store:h.a,components:{App:s},template:"<App/>"})},OMN4:function(t,e){t.exports=axios},SJI6:function(t,e){t.exports=Vuex},YaEn:function(t,e,n){"use strict";var o=n("lRwf"),r=n.n(o),i=n("pRNm"),u=n.n(i),a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error404"},[n("div",{staticClass:"error404-body-con"},[t._m(0),t._v(" "),n("p",{staticClass:"error404-body-con-message"},[t._v("YOU  LOOK  LOST")]),t._v(" "),n("div",{staticClass:"error404-btn-con"},[n("el-button",{staticStyle:{width:"200px"},attrs:{size:"large",type:"text"},on:{click:t.goHome}},[t._v("返回首页")]),t._v(" "),n("el-button",{staticStyle:{width:"200px","margin-left":"40px"},attrs:{size:"large",type:"primary"},on:{click:t.backPage}},[t._v("返回上一页")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error404-body-con-title"},[this._v("4"),e("span",[e("i",{staticClass:"el-icon-question"})]),this._v("4")])}]};var l=n("VU/8")({name:"Error404",methods:{backPage:function(){this.$router.go(-1)},goHome:function(){this.$router.push("/")}}},a,!1,function(t){n("n1uo")},null,null).exports;n.d(e,"a",function(){return c}),r.a.use(u.a);var c=[{path:"/login",component:function(){return n.e(0).then(n.bind(null,"W2Q3"))},meta:{type:"user",icon:"el-icon-star-off",title:"登录"}},{path:"/user/new",redirect:"/user/new/main",component:function(){return n.e(0).then(n.bind(null,"AkUR"))},meta:{type:"user",icon:"el-icon-star-off",title:"最新动态"},children:[{path:"main",component:function(){return n.e(0).then(n.bind(null,"mS7l"))},meta:{title:"最新动态"}}]},{path:"/user/social",redirect:"/user/social/main",component:function(){return n.e(0).then(n.bind(null,"AkUR"))},meta:{type:"user",icon:"el-icon-mobile-phone",title:"社交圈"},children:[{path:"main",component:function(){return n.e(0).then(n.bind(null,"b0Ev"))},meta:{title:"社交圈"}},{path:"details/:name",component:function(){return n.e(0).then(n.bind(null,"RKFr"))},meta:{title:"用户资料"}}]},{path:"/user/blog",redirect:"/user/blog/main",component:function(){return n.e(0).then(n.bind(null,"AkUR"))},meta:{type:"user",icon:"el-icon-edit-outline",title:"博客列表"},children:[{path:"main",component:function(){return n.e(0).then(n.bind(null,"o+S1"))},meta:{title:"博客列表"}},{path:"add",component:function(){return n.e(0).then(n.bind(null,"0XvF"))},meta:{title:"发表博客"}},{path:"edit/:id",component:function(){return n.e(0).then(n.bind(null,"GHqW"))},meta:{title:"编辑博客"}},{path:"details/:id",component:function(){return n.e(0).then(n.bind(null,"E+BO"))},meta:{title:"博客详情"}}]},{path:"/user/project",redirect:"/user/project/main",component:function(){return n.e(0).then(n.bind(null,"AkUR"))},meta:{type:"user",icon:"el-icon-service",title:"开源项目"},children:[{path:"main",component:function(){return n.e(0).then(n.bind(null,"EN68"))},meta:{title:"项目列表"}},{path:"details/:name",component:function(){return n.e(0).then(n.bind(null,"XEwM"))},meta:{title:"项目详情"}}]},{path:"/user/helper",redirect:"/user/helper/main",component:function(){return n.e(0).then(n.bind(null,"AkUR"))},meta:{type:"user",icon:"el-icon-printer",title:"使用帮助",mini:!0},children:[{path:"main",component:function(){return n.e(0).then(n.bind(null,"wfxC"))},meta:{title:"使用帮助"}}]},{path:"/user/readme",redirect:"/user/readme/main",component:function(){return n.e(0).then(n.bind(null,"AkUR"))},meta:{type:"user",icon:"el-icon-document",title:"README.md"},children:[{path:"main",component:function(){return n.e(0).then(n.bind(null,"EOq1"))},meta:{title:"README.md"}}]},{path:"/user/configure",redirect:"/user/configure/main",component:function(){return n.e(0).then(n.bind(null,"AkUR"))},meta:{type:"user",icon:"el-icon-setting",title:"系统配置",LoginRequired:!0},children:[{path:"main",component:function(){return n.e(0).then(n.bind(null,"fBQ6"))},meta:{title:"系统配置"}}]},{path:"/404",component:l},{path:"/",redirect:"/user/new"},{path:"*",redirect:"/404"},{path:"/mobile/user/blog",redirect:"/mobile/user/blog/main",component:function(){return n.e(0).then(n.bind(null,"uTFI"))},meta:{type:"mobile",icon:"edit",title:"博客"},children:[{path:"main",component:function(){return n.e(0).then(n.bind(null,"SiUS"))},meta:{scrollTop:!0}},{path:"details/:id",component:function(){return n.e(0).then(n.bind(null,"gdSt"))},meta:{scrollTop:!0}}]},{path:"/mobile/user/project",redirect:"/mobile/user/project/main",component:function(){return n.e(0).then(n.bind(null,"uTFI"))},meta:{type:"mobile",icon:"like-o",title:"项目"},children:[{path:"main",component:function(){return n.e(0).then(n.bind(null,"7tV6"))},meta:{scrollTop:!0}},{path:"details/:name",component:function(){return n.e(0).then(n.bind(null,"9xXS"))},meta:{scrollTop:!0}}]},{path:"/mobile/user/self",redirect:"/mobile/user/self/main",component:function(){return n.e(0).then(n.bind(null,"uTFI"))},meta:{type:"mobile",icon:"contact",title:"个人"},children:[{path:"main",component:function(){return n.e(0).then(n.bind(null,"hhhk"))},meta:{scrollTop:!0}}]}],s=new u.a({routes:c,scrollBehavior:function(t,e,n){if(t.meta.scrollTop)return{x:0,y:0}}});s.beforeEach(function(t,e,n){r.a.prototype.$setTitle(t.meta.title),n()});e.b=s},lRwf:function(t,e){t.exports=Vue},n1uo:function(t,e){},pRNm:function(t,e){t.exports=VueRouter},pw1w:function(t,e){},vLgD:function(t,e,n){"use strict";var o=n("//Fk"),r=n.n(o),i=n("OMN4"),u=n.n(i),a=n("lRwf"),l=n.n(a),c=n("IcnI"),s=u.a.create({baseURL:"https://api.github.com",timeout:15e3});s.interceptors.request.use(function(t){t.headers.Authorization="token "+c.a.state.token.token;var e=c.a.state.token.token;if(e){var n="?";t.url.indexOf("?")>=0&&(n="&"),t.url=t.url+n+"access_token="+e}return t},function(t){}),s.interceptors.response.use(function(t){t.data;return t},function(t){var e=void 0;switch(t.response.status){case 401:e="Token错误";break;default:e=t.response.data.message}return l.a.prototype.$message({message:e,type:"error"}),r.a.reject("error")}),e.a=s},vMJZ:function(t,e,n){"use strict";var o=n("vLgD"),r=n("IcnI");e.a={verifyToken:function(t){return Object(o.a)({url:"/user?access_token="+t})},getInfo:function(){var t=r.a.state.configuration.githubUsername;return Object(o.a)({url:"/users/"+t})},followers:function(t){var e=r.a.state.configuration.githubUsername;return Object(o.a)({url:"/users/"+e+"/followers?page="+t.page+"&per_page="+t.pageSize})},following:function(t){var e=r.a.state.configuration.githubUsername;return Object(o.a)({url:"/users/"+e+"/following?page="+t.page+"&per_page="+t.pageSize})},info:function(t){return Object(o.a)({url:"/users/"+t})}}}},["NHnr"]);
//# sourceMappingURL=app.cbca297f30ac87222445.js.map